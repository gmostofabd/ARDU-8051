<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ARDU-8051 Virtual Lab | 8Ã—8 LED Dot Matrix</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:#f4f6fb;
}
header{
  background:linear-gradient(135deg,#1f3c88,#0a9396);
  color:white;
  padding:1.8rem;
  text-align:center;
}
section{
  max-width:1150px;
  margin:auto;
  padding:1.5rem;
}
h2{color:#1f3c88}

/* ===== LAB ===== */
.lab{
  background:white;
  border-radius:14px;
  padding:1.5rem;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
}
.flex{
  display:flex;
  gap:1.5rem;
  flex-wrap:wrap;
}
.left,.right{
  flex:1 1 450px;
}

/* ===== CODE ===== */
pre{
  background:#1e1e1e;
  color:#00ff9c;
  padding:1rem;
  border-radius:8px;
  font-family:Consolas,monospace;
  font-size:14px;
  overflow-x:auto;
}

/* ===== BOARD AREA ===== */
.board{
  position:relative;
  max-width:520px;
  margin:auto;
}
.board img{
  width:100%;
  border-radius:12px;
  box-shadow:0 8px 18px rgba(0,0,0,.2);
}

/* ===== DOT MATRIX ===== */
.matrix{
  position:absolute;
  top:28%;
  left:60%;
  display:grid;
  grid-template-columns:repeat(8,18px);
  gap:5px;
}
.led{
  width:18px;
  height:18px;
  border-radius:50%;
  background:#300;
  box-shadow:inset 0 0 5px #000;
}
.led.on{
  background:red;
  box-shadow:0 0 8px red;
}

/* ===== PANEL ===== */
.panel{
  background:#eef2f7;
  padding:.6rem;
  border-radius:6px;
  font-family:monospace;
  margin-top:.8rem;
}
button{
  background:#1f3c88;
  color:white;
  border:none;
  padding:.4rem 1rem;
  border-radius:6px;
  cursor:pointer;
  margin:.4rem .2rem;
}
button:hover{background:#0a9396}
</style>
</head>

<body>

<header>
  <h1>ARDU-8051 Virtual Lab</h1>
  <p>8Ã—8 LED Dot Matrix Display Interfacing (8051 Assembly)</p>
</header>

<section>
<h2>ðŸ§ª Experiment Description</h2>
<p>
This experiment demonstrates interfacing an <b>8Ã—8 LED Dot Matrix Display</b>
with the <b>ARDU-8051 hardware platform</b>.
Rows are driven through <b>Port-1</b> and columns through <b>Port-2</b>.
Row scanning and column pattern data are controlled using assembly-level multiplexing.
</p>

<div class="lab">
<div class="flex">

<!-- ===== LEFT ===== -->
<div class="left">

<pre>
; -------- ARDU-8051 PIN MAPPING --------
; ROWS    -> P1.0 â€“ P1.7
; COLUMNS -> P2.0 â€“ P2.7

ORG 0000H
MOV DPTR,#PATTERN

MAIN:
MOV R0,#08H        ; 8 rows
MOV A,#01H         ; Initial row select

SCAN:
MOV P1,A           ; Activate one row
MOVC A,@A+DPTR     ; Read pattern
MOV P2,A           ; Send column data
ACALL DELAY

RL A               ; Next row
DJNZ R0,SCAN
SJMP MAIN

; Character Pattern ('A')
PATTERN:
DB 3CH
DB 66H
DB 66H
DB 7EH
DB 66H
DB 66H
DB 66H
DB 00H

DELAY:
MOV R7,#255
DJNZ R7,$
RET

END
</pre>

<button onclick="nextChar()">Next Pattern</button>
<button onclick="clearMatrix()">Clear</button>

</div>

<!-- ===== RIGHT ===== -->
<div class="right">

<div class="board">
  <!-- Replace with your real ARDU-8051 board image -->
  <img src="./docs/images/Ardu-51_Front_Angle_2.png" alt="ARDU-8051 Board">

  <div class="matrix" id="matrix"></div>
</div>

<div class="panel">
ROWS â†’ P1.0â€“P1.7 (ARDU-8051)<br>
COLUMNS â†’ P2.0â€“P2.7<br>
Method â†’ Multiplexed Scanning
</div>

</div>

</div>
</div>
</section>

<script>
const matrix=document.getElementById("matrix");
let leds=[];
for(let i=0;i<64;i++){
  let d=document.createElement("div");
  d.className="led";
  matrix.appendChild(d);
  leds.push(d);
}

/* Pattern table (like DB in 8051 assembly) */
const patterns=[
[
  0b00111100,
  0b01100110,
  0b01100110,
  0b01111110,
  0b01100110,
  0b01100110,
  0b01100110,
  0b00000000
],
[
  0b01100110,
  0b01100110,
  0b01100110,
  0b01111110,
  0b01100110,
  0b01100110,
  0b01100110,
  0b00000000
]
];

let index=0;

function render(pattern){
  leds.forEach(l=>l.classList.remove("on"));
  for(let r=0;r<8;r++){
    for(let c=0;c<8;c++){
      if(pattern[r] & (1<<(7-c))){
        leds[r*8+c].classList.add("on");
      }
    }
  }
}

function nextChar(){
  render(patterns[index]);
  index=(index+1)%patterns.length;
}

function clearMatrix(){
  leds.forEach(l=>l.classList.remove("on"));
}
</script>

</body>
</html>
